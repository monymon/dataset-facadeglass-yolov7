## Dataset facade glass for training YOLOv7

[![DOI](https://zenodo.org/badge/934472178.svg)](https://doi.org/10.5281/zenodo.14910653)

This dataset was used to train a YOLOv7 network for glass facade detection, containing 70 images for training and 36 images for testing. The objective of the project was to integrate a RealSense camera for real-time detection. The network training was successfully conducted.

## Step-by-step on how to use this dataset in Linux

- Download the Darknect project in:  [Darknet](https://github.com/AlexeyAB/darknet) or use git clone https://github.com/AlexeyAB/darknet on terminal linux

<pre>```cd darknet``` </pre>

mkdir darkbuild```

''' cmake ..'''

''' make'''

## Folder organization

After building and installing the Darknet framework on your system, you need to organize your project folder.

It should contain three main folders: training, testing, and backup, along with the configuration files yolov7.cfg, file.data, classes.txt, and the weights file yolov7.weights.

Inside the training and testing folders, there should be the images and their respective labels.

If you are starting the training from scratch, you can use the tool [LabelImg](https://github.com/HumanSignal/labelImg.git) to create them.


## File Descriptions

The .cfg file is the network configuration file.

The .data file contains the paths to all the files needed for your training.

The classes file is usually generated by the labeling tool and contains all the classes for your training.

The weights file stores the trained model parameters, which are the values adjusted during the training process to enable the network to make accurate predictions.

You can find the .cfg and .weights files to perform your training on the page: [Official YOLOv7](https://github.com/pjreddie/darknet/issues/2557)

You can find an example of the .data file at: [Darknet Project}(https://github.com/AlexeyAB/darknet/blob/9ade741db91fd3d796d2abb0c9889b10943ea28a/build/darknet/x64/cfg/coco.data#L4)

## Network training commands

To start the network training, use the following command:

- cd darknet

- cd dark

- ./darknet detector train /home/user/folder_project/file.data /home/user/folder_project/yolov7.cfg /home/user/folder_project/yolov7.weights

If you want to train from the beginning, then use flag in the end of training command: -clear 

To know the accuracy, use:

- ./darknet detector map /home/user/folder_project/file.data /home/user/folder_project/yolov7.cfg /home/user/folder_project/backup-weights/yolov7_last.weights

To perform the inference, exit the "dark" subfolder and return to the darknet folder, use:

python3 darknet_images.py\ 
--weights ./home/user/folder_project/backup-weights/yolov7_last.weights\
--data_file ./home/user/folder_project/file.data\
--config_file ./home/user/folder_project/yolov7.cfg\
--tresh 0.5\
--input ./home/user/folder_project/folder_train/image.jpg\
--ext_output

You can find this code at [Darknet Project](https://github.com/AlexeyAB/darknet/blob/9ade741db91fd3d796d2abb0c9889b10943ea28a/darknet_images.py#L85)

